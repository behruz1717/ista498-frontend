<!DOCTYPE html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>QueueLeaf Dashboard</title>
    <link rel="icon" href="assets/logo.png" />
    <link rel="stylesheet" href="css/styles.css" />
  </head>

  <body>
    <header class="site-header">
      <div class="brand">
        <img src="assets/logo.png" alt="QueueLeaf" class="logo" />
        <span class="brand-name">QueueLeaf</span>
      </div>

      <nav class="nav">
        <button class="nav-btn active" data-route="dashboard">Dashboard</button>
        <button
          class="nav-btn"
          id="nav-analytics"
          onclick="window.location.href='analytics.html'"
        >
          Analytics
        </button>
        <button class="nav-btn" id="logout-btn">Logout</button>
      </nav>
    </header>

    <main class="container">
      <h2>Your Queues</h2>
      <button class="btn primary tiny" id="btn-new-queue">New Queue</button>
      <section id="queues-container" class="grid-3">
        <!-- Cards injected by JS -->
      </section>
      <!-- New Queue Modal -->
      <div
        id="new-queue-modal"
        class="card"
        style="
          display: none;
          max-width: 420px;
          padding: 20px;
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          z-index: 100;
          background: var(--card);
          border: 1px solid var(--line);
          border-radius: 16px;
          box-shadow: var(--shadow);
        "
      >
        <h3>Create New Queue</h3>

        <div class="stack" style="margin-top: 16px">
          <label>
            <span class="label">Queue Name</span>
            <input id="new-queue-name" placeholder="e.g., Main Dining" />
          </label>

          <label>
            <span class="label">Average Service Time (min)</span>
            <input id="new-queue-avg" type="number" min="1" value="5" />
          </label>

          <div class="row between" style="margin-top: 12px">
            <button class="btn tiny" id="new-queue-cancel">Cancel</button>
            <button class="btn primary tiny" id="new-queue-create">
              Create
            </button>
          </div>
        </div>
      </div>
      <!-- QR Modal -->
      <div
        id="qr-modal"
        class="card"
        style="
          display: none;
          max-width: 420px;
          padding: 20px;
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          z-index: 200;
          background: var(--card);
          border: 1px solid var(--line);
          border-radius: 16px;
          box-shadow: var(--shadow);
        "
      >
        <h3>Queue QR Code</h3>

        <div
          id="qr-canvas"
          style="margin-top: 16px; display: flex; justify-content: center"
        ></div>

        <div
          class="micro subtle"
          id="qr-url"
          style="margin-top: 12px; text-align: center"
        ></div>

        <div
          class="row center"
          style="margin-top: 18px; justify-content: center"
        >
          <button class="btn tiny" id="qr-close">Close</button>
        </div>
      </div>
    </main>

    <footer class="site-footer micro subtle">
      QueueLeaf Â· Manager Dashboard
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>

    <!-- Logic placeholder (Stage 9.5 JS will attach here) -->
    <script type="module" src="js/staff.js"></script>
  </body>
</html>
